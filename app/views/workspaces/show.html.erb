<!--  app/views/workspaces/show.html.erb -->
<body>
<h2 style="color:white;"><%= @workspace.workspace_name %> Workspace</h2>
<div class="workspace-open-add-container">
  <button id="click-to-open" style="width:100px" value=<%= @workspace.id %> >Open All</button> 
  <button id="add-link-to-workspace" style="width:100px" value=<%= @workspace.id %>>Add Link</button>
</div> 

<%= form_tag workspace_path, :method => :patch  do %>
  <textarea class="workspace-textarea" name="workspace-overview" id="notes-section" placeholder="Write notes here. . ."><%= @workspace.notes %></textarea>
  
  <table >
    <thead>
      <tr>
        <th>Name</th>
        <th>Link</th> 
        <th>Notes</th> 
        <th>Date</th> 
      </tr>
    </thead>

    <tbody id="link-list">
      <% @links.each do |l| %>
        <tr>

          <!-- Name input --> 
          <td>
            <input class="workspace-input" name="name-<%= l.id %>" value="<%= l.nickname %>" placeholder="Name" type="text">
          </td>

          <!--Link Input -->
          <td>
            <input class="workspace-input" name="link-<%= l.id %>" value="<%= l.link %>" placeholder="Link">
          </td>

          <!--Notes Input -->
          <td>
            <input class="workspace-input" name="notes-<%= l.id %>" value="<%= l.notes %>" placeholder="Notes">
          </td>

          <!--Date Created -->
          <td>
            <input class="workspace-input" name="date-<%= l.id %>" value="<%= l.created_at %>" placeholder="Date Created">
          </td>

          <td>
            <%= link_to 'Delete Link', delete_link_from_workspace_path(l.id), 'data-method' => 'delete', 'data-confirm' => 'Are you sure?' %>
          </td> 


        </tr>

      <% end %>
    </tbody>
  </table>

  <div class="workspace-form-action-container">
    <%= submit_tag 'Save changes',  :class => 'action-buttons' %>  
    <%= link_to 'Back to Dashboard', workspaces_path, :class => 'action-buttons' %>
    <%= link_to 'Delete Workspace', workspace_path(@workspace), 'data-method' => 'delete', 'data-confirm' => 'Are you sure?', :class => 'action-buttons delete' %>
    <%= link_to 'Cancel', workspace_path, :class => 'action-buttons' %>
    <%= link_to 'Edit Collaborators', new_collaboration_path, 'data-method' => 'get', :class => 'action-buttons' %>
  </div>
<% end %>
</body>

<%= javascript_pack_tag 'edit_workspace_addlink' %>
<%= javascript_pack_tag 'open_all' %>



